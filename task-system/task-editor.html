<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ–°å¢é¡Œç›® - ç™½è²“å·¥ä½œå®¤</title>
  <link rel="stylesheet" href="../task-system/task-style.css">
</head>
<body>
  <header>
    <h1>æ–°å¢é¡Œç›® - ç™½è²“å·¥ä½œå®¤</h1>
    <button onclick="window.location.href='task-center.html'">â† è¿”å›æ´¾é¡Œä¸­å¿ƒ</button>
  </header>

  <main>
    <section class="editor-section">
      <h2>æ–°å¢é¡Œç›®</h2>

      <label>é¡Œç›®é¡å‹ï¼š</label>
      <select id="questionType">
        <option value="truefalse">æ˜¯éé¡Œ</option>
        <option value="choice">é¸æ“‡é¡Œ</option>
        <option value="shortanswer">ç°¡ç­”é¡Œ</option>
        <option value="image">åœ–ç‰‡é¡Œ</option>
      </select>

      <label>é¡Œç›®å…§å®¹ï¼š</label>
      <textarea id="questionText" rows="4" placeholder="è«‹è¼¸å…¥é¡Œç›®å…§å®¹..."></textarea>

      <div id="choiceOptions" style="display:none;">
        <label>é¸é …ï¼š</label><br>
        <input type="text" id="optionA" placeholder="Aé¸é …">
        <input type="text" id="optionB" placeholder="Bé¸é …">
        <input type="text" id="optionC" placeholder="Cé¸é …">
        <input type="text" id="optionD" placeholder="Dé¸é …">
      </div>

      <div id="imageUpload" style="display:none;">
        <label>ä¸Šå‚³åœ–ç‰‡ï¼š</label>
        <input type="file" id="questionImage" disabled placeholder="å°šæœªæ”¯æ´åœ–ç‰‡ä¸Šå‚³">
      </div>

      <label>æ­£ç¢ºç­”æ¡ˆï¼š</label>
      <input type="text" id="correctAnswer" placeholder="è«‹è¼¸å…¥æ­£ç¢ºç­”æ¡ˆ">

      <button id="saveQuestionBtn">ğŸ’¾ å„²å­˜é¡Œç›®</button>
    </section>

    <hr>

    <section class="ai-helper">
      <h2>ğŸ” AIè¼”åŠ©å‡ºé¡Œ</h2>
      <p>éœ€è¦éˆæ„Ÿï¼Ÿå¯ä»¥åˆ©ç”¨ ChatGPT ç”ŸæˆæŒ‡ä»¤ï¼</p>

      <label>é¡Œå‹ï¼š</label>
      <select id="promptType">
        <option value="truefalse">æ˜¯éé¡Œ</option>
        <option value="choice">é¸æ“‡é¡Œ</option>
        <option value="shortanswer">ç°¡ç­”é¡Œ</option>
      </select>

      <label>ä¸»é¡Œï¼š</label>
      <input type="text" id="promptSubject" placeholder="ä¾‹å¦‚ï¼šå¤ªé™½ç³»ã€æ°£å€™è®Šé·">

      <label>å­¸æ®µï¼š</label>
      <select id="promptLevel">
        <option value="åœ‹å°ä¸­å¹´ç´š">åœ‹å°ä¸­å¹´ç´š</option>
        <option value="åœ‹å°é«˜å¹´ç´š">åœ‹å°é«˜å¹´ç´š</option>
        <option value="åœ‹ä¸­">åœ‹ä¸­</option>
      </select>

      <button onclick="generatePrompt()">ğŸ¯ ç”ŸæˆæŒ‡ä»¤</button>

      <textarea id="generatedPrompt" rows="4" placeholder="é€™è£¡æœƒé¡¯ç¤ºç”Ÿæˆçš„æç¤ºèª..."></textarea>
      <button onclick="copyPrompt()">ğŸ“‹ è¤‡è£½æŒ‡ä»¤</button>

      <p><a href="https://chat.openai.com/" target="_blank">â” å‰å¾€ ChatGPT ç·´ç¿’</a></p>
    </section>
  </main>

  <!-- é€£åˆ°æ–°ç‰ˆ task-editor.js -->
  <script type="module" src="../task-system/task-editor.js"></script>

  <!-- ç°¡å–®çš„å…§å»ºå°å·¥å…· -->
  <script>
    function generatePrompt() {
      const type = document.getElementById('promptType').value;
      const subject = document.getElementById('promptSubject').value;
      const level = document.getElementById('promptLevel').value;

      let prompt = '';
      if (type === 'truefalse') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿå‡ºä¸€é¡Œæ˜¯éé¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œä¸¦æ­£ç¢ºæ¨™ç¤ºç­”æ¡ˆã€‚`;
      } else if (type === 'choice') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿç”Ÿæˆä¸€é¡Œå››é¸ä¸€çš„é¸æ“‡é¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œä¸¦æ­£ç¢ºæ¨™ç¤ºç­”æ¡ˆã€‚`;
      } else if (type === 'shortanswer') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿå‡ºä¸€é¡Œç°¡ç­”é¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œä¸¦é™„ä¸Šåƒè€ƒç­”æ¡ˆã€‚`;
      }
      document.getElementById('generatedPrompt').value = prompt;
    }

    function copyPrompt() {
      const textarea = document.getElementById('generatedPrompt');
      textarea.select();
      document.execCommand('copy');
      alert('æŒ‡ä»¤å·²è¤‡è£½ï¼');
    }
  </script>

</body>
</html>
