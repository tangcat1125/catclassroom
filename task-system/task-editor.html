<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ–°å¢é¡Œç›® - ç™½è²“å·¥ä½œå®¤</title>
  <link rel="stylesheet" href="../task-system/task-style.css">
</head>
<body>
  <header>
    <h1>æ–°å¢é¡Œç›® - ç™½è²“å·¥ä½œå®¤</h1>
    <button onclick="window.location.href='task-center.html'">â† è¿”å›æ´¾é¡Œä¸­å¿ƒ</button>
  </header>

  <main>
    <section class="editor-section">
      <label>é¡Œç›®é¡å‹ï¼š</label>
      <select id="questionType">
        <option value="truefalse">æ˜¯éé¡Œ</option>
        <option value="choice">é¸æ“‡é¡Œ</option>
        <option value="shortanswer">ç°¡ç­”é¡Œ</option>
        <option value="image">åœ–ç‰‡é¡Œ</option>
      </select>

      <label>é¡Œç›®å•é¡Œï¼š</label>
      <textarea id="questionText" rows="4" placeholder="è¼¸å…¥å•é¡Œå…§å®¹..."></textarea>

      <div id="choiceOptions" style="display:none;">
        <label>é¸é …ï¼š</label><br>
        <input type="text" id="optionA" placeholder="Aé¸é …">
        <input type="text" id="optionB" placeholder="Bé¸é …">
        <input type="text" id="optionC" placeholder="Cé¸é …">
        <input type="text" id="optionD" placeholder="Dé¸é …">
      </div>

      <div id="imageUpload" style="display:none;">
        <label>ä¸Šå‚³åœ–ç‰‡ï¼š</label>
        <input type="file" id="questionImage">
      </div>

      <label>æ­£ç¢ºç­”æ¡ˆï¼š</label>
      <input type="text" id="correctAnswer" placeholder="è¼¸å…¥æ­£ç¢ºç­”æ¡ˆ">

      <button id="saveQuestionBtn">å„²å­˜é¡Œç›®</button>
      <button id="generateAIQuestionBtn">ğŸ¤– AIè‡ªå‹•ç”Ÿæˆé¡Œç›®</button>
    </section>

    <hr>

    <section class="ai-helper">
      <h2>ğŸ” ä½¿ç”¨ ChatGPT å”åŠ©å‡ºé¡Œ</h2>
      <p>æƒ³è¦å¿«é€Ÿç²å¾—é¡Œç›®ï¼Œå¯ä»¥é»æ“Šä¸‹é¢ç¶²å€ï¼Œå¹«ä½ å¿«é€Ÿç”Ÿæˆé¡Œç›®ï¼š</p>
      <a href="https://chat.openai.com/" target="_blank">â” å‰å¾€ ChatGPT</a>

      <h3>æ¨è–¦æŒ‡ä»¤ï¼š</h3>
      <ul>
        <li>æ˜¯éé¡Œï¼šã€Œè«‹ç”¨ä¸­æ–‡å‡ºä¸€é¡Œæ˜¯éé¡Œï¼Œä¸»é¡Œæ˜¯ã€æ°£å€™è®Šé·ã€ï¼Œå¹«æˆ‘æ­£ç¢ºæ ‡è¨˜ç­”æ¡ˆã€‚ã€</li>
        <li>é¸æ“‡é¡Œï¼šã€Œè«‹ç”¨ä¸­æ–‡ç”Ÿæˆä¸€é¡Œåœ‹å°äº”å¹´ç´šç­‰ç´šçš„å››é¸ä¸€é¸æ“‡é¡Œï¼Œä¸»é¡Œæ˜¯ã€å¤ªé™½ç³»è¡Œæ˜Ÿã€ï¼Œä¸¦æ­£ç¢ºæ¨™ç¤ºç­”æ¡ˆã€‚ã€</li>
        <li>ç°¡ç­”é¡Œï¼šã€Œè«‹ç”¨ä¸­æ–‡å‡ºä¸€é¡Œç°¡ç­”é¡Œï¼Œä¸»é¡Œæ˜¯ã€å­”å­èˆ‡å„’å®¶æ€æƒ³ã€ï¼Œå¹«æˆ‘å¯«å‡ºåƒè€ƒæ­£ç¾©ç­”æ¡ˆã€‚ã€</li>
      </ul>

      <h3>ğŸ¤– æŒ‡ä»¤å°ç²¾éˆ</h3>
      <div>
        <label>é¡Œå‹ï¼š</label>
        <select id="promptType">
          <option value="truefalse">æ˜¯éé¡Œ</option>
          <option value="choice">é¸æ“‡é¡Œ</option>
          <option value="shortanswer">ç°¡ç­”é¡Œ</option>
        </select>
        <label>ä¸»é¡Œï¼š</label>
        <input type="text" id="promptSubject" placeholder="è¼¸å…¥ä¸»é¡Œ">
        <label>å­¸æ®µï¼š</label>
        <select id="promptLevel">
          <option value="åœ‹å°ä¸­å¹´ç´š">åœ‹å°ä¸­å¹´ç´š</option>
          <option value="åœ‹å°é«˜å¹´ç´š">åœ‹å°é«˜å¹´ç´š</option>
          <option value="åœ‹ä¸­">åœ‹ä¸­</option>
        </select>
        <button onclick="generatePrompt()">ç”ŸæˆæŒ‡ä»¤</button>
        <textarea id="generatedPrompt" rows="4" placeholder="æŒ‡ä»¤æœƒé¡¯ç¤ºåœ¨æ­¤..."></textarea>
        <button onclick="copyPrompt()">è¤‡è£½æŒ‡ä»¤</button>
      </div>
    </section>

  <script src="../task-system/task-editor.js"></script>
  <script>
    async function generateQuestionFromHuggingFace() {
      const response = await fetch('https://api-inference.huggingface.co/models/tiiuae/falcon-7b-instruct', {
        method: 'POST',
        headers: {
          'Authorization': 'Bearer YOUR_HUGGINGFACE_API_TOKEN',
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          inputs: "è«‹ç”Ÿæˆä¸€é¡Œç°¡å–®çš„åœ‹æ–‡é¡Œç›®ï¼Œå«æœ‰é¡Œç›®ã€å››å€‹é¸é …ï¼Œä¸¦æª¢è¦–æ­£ç¢ºç­”æ¡ˆã€‚"
        })
      });
      const data = await response.json();
      console.log(data);
    }

    document.getElementById('generateAIQuestionBtn').addEventListener('click', generateQuestionFromHuggingFace);

    function generatePrompt() {
      const type = document.getElementById('promptType').value;
      const subject = document.getElementById('promptSubject').value;
      const level = document.getElementById('promptLevel').value;
      let prompt = '';
      if (type === 'truefalse') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿå‡ºä¸€é¡Œæ˜¯éé¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œå¹«æˆ‘æ­£ç¢ºæ¨™ç¤ºç­”æ¡ˆã€‚`;
      } else if (type === 'choice') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿç”Ÿæˆä¸€é¡Œå››é¸ä¸€çš„é¸æ“‡é¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œä¸¦æ­£ç¢ºæ¨™ç¤ºç­”æ¡ˆã€‚`;
      } else if (type === 'shortanswer') {
        prompt = `è«‹ç”¨ä¸­æ–‡ç‚º${level}å­¸ç”Ÿå‡ºä¸€é¡Œç°¡ç­”é¡Œï¼Œä¸»é¡Œæ˜¯ã€${subject}ã€ï¼Œå¹«æˆ‘å¯«å‡ºåƒè€ƒæ­£ç¾©ç­”æ¡ˆã€‚`;
      }
      document.getElementById('generatedPrompt').value = prompt;
    }

    function copyPrompt() {
      const textarea = document.getElementById('generatedPrompt');
      textarea.select();
      document.execCommand('copy');
      alert('æŒ‡ä»¤å·²è¤‡è£½ï¼');
    }
  </script>
</body>
</html>
