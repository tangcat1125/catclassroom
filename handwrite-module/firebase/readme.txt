===========================================
æ‰‹å¯«æ¨¡çµ„ Handwrite Module - ä½¿ç”¨èªªæ˜ï¼ˆ2025 æ–°ç‰ˆï¼‰
ç™½è²“å·¥ä½œå®¤ CatClassroom Project
===========================================

ã€æ¨¡çµ„ç°¡ä»‹ã€‘
- æœ¬æ¨¡çµ„è² è²¬ç®¡ç†å­¸ç”Ÿçš„æ‰‹å¯«ä½œç­”å…§å®¹ã€‚
- æ”¯æ´è§¸æ§æ‰‹å¯«ã€æ»‘é¼ ç¹ªåœ–ã€åœ–ç‰‡ä¸Šå‚³ã€‚
- å­¸ç”Ÿå¯åœ¨æœ‰é¡Œç›®æˆ–ç„¡é¡Œç›®çš„æƒ…æ³ä¸‹é€²è¡Œç¹ªåœ–èˆ‡æäº¤ã€‚
- é©ç”¨è£ç½®ï¼šæ¡Œæ©Ÿã€ç­†é›»ã€Chromebookã€iPadã€æ‰‹æ©Ÿç­‰ã€‚

ã€æ¨¡çµ„è³‡æ–™å¤¾çµæ§‹ã€‘
/handwrite-module
  |- handwrite-config.js       (Firebaseåˆå§‹åŒ–è¨­å®š)
  |- handwrite-database.js     (ä½œç­”ä¸Šå‚³è™•ç†é‚è¼¯ï¼Œå¯é¸ç”¨)
  |- handwrite-upload.html     (æ­£å¼ä½¿ç”¨é é¢ï¼Œæ”¯æ´è§¸æ§èˆ‡è‡ªç”±ç¹ªåœ–)
  |- handwrite-interface.css   (æ¨£å¼æª”ï¼Œå¯é¸ç”¨)
  |- readme.txt                (æœ¬ä½¿ç”¨èªªæ˜æª”æ¡ˆ)

ã€åŠŸèƒ½æ”¯æ´èªªæ˜ã€‘
- â­• æ”¯æ´æ»‘é¼ èˆ‡è§¸æ§ç•«å¸ƒä½œç­”ï¼ˆå«æ‰‹æ©Ÿèˆ‡å¹³æ¿ï¼‰
- â­• æ”¯æ´ç„¡é¡Œç›®æƒ…å¢ƒä½œç­”ï¼ˆæœƒè‡ªå‹•ç”¢ç”Ÿ questionId ä»¥åˆ©è€å¸«è¾¨è­˜ï¼‰
- â­• æ”¯æ´ç•«å¸ƒé è¦½åŠŸèƒ½
- â­• æ”¯æ´è€å¸«é¡Œç›®æ´¾é€å¾Œé™åˆ¶æ™‚é–“å…§ä½œç­”ï¼ˆå¦‚æœ‰è¨­å®šï¼‰

ã€Firebase è³‡æ–™è·¯å¾‘è¦åŠƒã€‘
- æ‰€æœ‰ä½œç­”è³‡æ–™å„²å­˜åœ¨ Realtime Database çš„ `/handwriting/`
- çµæ§‹ï¼š
  handwriting/
    â””â”€ studentId/
         â””â”€ questionId/
              â”œâ”€ imageUrl (string) åœ–ç‰‡è³‡æ–™URL (Data URL æˆ– Storage URL)
              â”œâ”€ timestamp (number) ä½œç­”æ™‚é–“æˆ³è¨˜
              â”œâ”€ studentName (string)
              â”œâ”€ studentClass (string)
              â”œâ”€ fromCanvas (boolean) æ˜¯å¦ä¾†è‡ªç•«å¸ƒç¹ªåœ–

ã€ä¸Šå‚³è¡Œç‚ºè¦å‰‡ã€‘
- å­¸ç”Ÿç«¯ï¼šéœ€ sessionStorage æœ‰ studentId æ‰èƒ½ä¸Šå‚³
- è‹¥ç„¡ teacher é¡Œç›®æ´¾é€ï¼Œç³»çµ±è‡ªå‹•å‘½å `è‡ªç”±ç¹ªåœ–_æ™‚é–“æˆ³`
- é¡¯ç¤ºä¸Šå‚³ç‹€æ…‹èˆ‡åœ–åƒé è¦½

ã€Firebase Rules å»ºè­°è¨­å®šã€‘
### æ¸¬è©¦éšæ®µï¼ˆå…è¨±æ‰€æœ‰å­¸ç”Ÿä¸Šå‚³ï¼‰
```json
"handwriting": {
  "$studentId": {
    ".read": true,
    ".write": true
  }
}
```

### ä¸Šç·šéšæ®µï¼ˆéœ€è¦ Firebase Authentication é©—è­‰ï¼‰
```json
"handwriting": {
  "$studentId": {
    ".read": "auth != null && (auth.uid == $studentId || auth.token.admin == true)",
    ".write": "auth != null && auth.uid == $studentId"
  }
}
```
ï¼ˆéœ€æ•´åˆ Firebase Auth ä¸¦ç™»å…¥æ‰å¯å¯«å…¥ï¼‰

ã€å»ºè­°ä½¿ç”¨æ–¹å¼ã€‘
- âœ… åœ¨ rollcall.html ç™»å…¥å¾Œä½¿ç”¨ sessionStorage å­˜å…¥åŸºæœ¬è³‡è¨Šï¼ˆID/å§“å/ç­ç´šï¼‰
- âœ… æ¥è‘—é€²å…¥ handwrite-upload.htmlï¼Œè‡ªå‹•è¼‰å…¥å­¸ç”Ÿèº«ä»½èˆ‡é¡Œç›®ï¼ˆè‹¥æœ‰ï¼‰
- âœ… ç•«åœ– âœ é»æ“Šä¸Šå‚³ âœ é è¦½åœ–é¡¯ç¤ºå³æˆåŠŸ
- ğŸ”— é è¨­æ­£å¼å…¥å£ç¶²å€ï¼šhttps://tangcat1125.github.io/catclassroom/handwrite-module/handwrite-upload.html

ã€é–‹ç™¼æ“´å……æ–¹å‘ã€‘
- åœ–ç‰‡å¯ä¸Šå‚³è‡³ Firebase Storageï¼Œåƒ…åœ¨ Database å„²å­˜ç¶²å€ï¼ˆæœªä¾†é–‹å•Ÿï¼‰
- æ”¯æ´è€å¸«ç«¯å°æ‰‹å¯«å…§å®¹è©•èªèˆ‡ç°¡å–®è©•åˆ†ï¼ˆæœªä¾†é–‹å•Ÿï¼‰
- æ”¯æ´ canvas ç¹ªåœ–å…§å®¹é‚„åŸèˆ‡è¦†å¯«ï¼ˆæœªä¾†é–‹å•Ÿï¼‰

===========================================
Powered by ç™½è²“å·¥ä½œå®¤ï¼è²“è€å¸« & å°ç™½è¯åˆé–‹ç™¼
