<!DOCTYPE html>

<html lang="zh-TW">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/> <!-- 針對手機優化 -->
<title>學生作答區</title>
<style>
        /* 非常基本的樣式，讓區塊分明 */
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 15px;
            background-color: #e9ebee; /* 類似 Messenger 的淺灰藍背景 */
            display: flex;
            flex-direction: column; /* 讓內容垂直排列 */
            align-items: center; /* 頁面內容大致置中 */
        }
        .container {
            width: 100%;
            max-width: 600px; /* 設定最大寬度 */
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.1);
            padding: 20px;
            box-sizing: border-box;
            margin-bottom: 20px; /* 與底部留些空間 */
        }
        h1 {
            text-align: center;
            color: #1d2129; /* 深藍灰色 */
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        /* 區塊樣式 */
        .info-bar, .message-box, .sos-box, .chat-box {
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-sizing: border-box;
        }
        /* 學生資訊欄 */
        .info-bar {
            background-color: #e7f3ff; /* 淡藍色 */
            border: 1px solid #cce0ff;
            color: #004085;
            font-weight: bold;
        }
        /* 系統訊息區 */
        .message-box {
            background-color: #fff3cd; /* 淡黃色 */
            border: 1px solid #ffeeba;
            color: #856404;
            min-height: 60px; /* 給點初始高度 */
        }
        .message-box .title {
             font-weight: bold;
             margin-bottom: 5px;
             display: block; /* 讓標題獨佔一行 */
        }
        /* SOS 按鈕區 */
        .sos-box {
            background-color: #f8d7da; /* 淡紅色 */
            border: 1px solid #f5c6cb;
            display: flex; /* 使用 flex 讓按鈕置中 (如果需要) */
            justify-content: center;
        }
        #sosButton {
            background-color: #dc3545; /* 紅色 */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        /* 課程聊天室 / 作答區 */
        .chat-box {
            background-color: #f0e6ff; /* 淡紫色 */
            border: 1px solid #d8c4f7;
        }
        .chat-box .title {
             font-weight: bold;
             margin-bottom: 10px;
             display: block;
             color: #495057;
        }
         /* 聊天訊息顯示區 */
        #chatMessages {
            height: 150px; /* 給定固定高度，超出會滾動 */
            overflow-y: auto; /* 垂直滾動條 */
            background-color: #fff; /* 白色背景 */
            border: 1px solid #ced4da;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            font-size: 0.9em;
            line-height: 1.4;
            color: #333;
        }
        #chatMessages p { /* 讓每條訊息有間距 */
            margin: 0 0 8px 0;
        }
        /* 作答/聊天輸入區 - 這個 ID 會被 JS 用來切換內容 */
        #interactionArea {
             display: flex; /* 輸入框和按鈕排一行 */
             gap: 10px; /* 元素間距 */
        }
        #chatInput {
            flex-grow: 1; /* 輸入框佔滿剩餘空間 */
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            resize: none; /* 禁止調整 textarea 大小 */
        }
        #sendButton {
            padding: 10px 15px;
            background-color: #6f42c1; /* 紫色 */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            white-space: nowrap; /* 防止按鈕文字換行 */
        }
        /* 作答按鈕樣式 (先定義，JS 會用到) */
        .answer-button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 1.1em;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f8f9fa;
        }
        .answer-button:hover {
             background-color: #e2e6ea;
        }
        /* 貓咪圖片 (可選) */
        .cat-decoration {
            position: fixed; /* 固定位置，不隨滾動 */
            bottom: 15px;
            right: 15px;
            width: 50px; /* 調整大小 */
            height: auto;
            opacity: 0.8; /* 半透明 */
        }

    

.qr-block {
  margin-top: 30px;
  text-align: center;
}
.qr-inline {
  width: 120px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
}
.qr-caption {
  margin-top: 8px;
  font-size: 0.85em;
  color: #555;
}
</style>
</head>
<body>
<div class="container">
<h1>學生作答區</h1>
<!-- 學生資訊欄 -->
<div class="info-bar" id="studentInfoBar">
            班級：<span id="infoClass">讀取中...</span> |
            座號：<span id="infoSeat">讀取中...</span> |
            姓名：<span id="infoName">讀取中...</span>
</div>
<!-- 系統訊息區 -->
<div class="message-box" id="systemMessageBox">
<span class="title">📢 系統訊息</span>
<div id="systemMessageContent">等待老師指令中...</div>
</div>
<!-- SOS 按鈕區 -->
<div class="sos-box">
<button id="sosButton">🆘 我要求救</button>
</div>
<!-- 課程聊天室 / 作答區 -->
<div class="chat-box">
<span class="title">📝 課程聊天室 / 作答區</span>
<!-- 聊天訊息顯示區 -->
<div id="chatMessages">
<!-- 聊天訊息會由 JS 動態加入這裡 -->
<p style="color: #888;">(聊天室讀取中...)</p>
</div>
<!-- 互動區域 (會由 JS 切換內容) -->
<div id="interactionArea">
<!-- 預設顯示聊天輸入 -->
<textarea id="chatInput" placeholder="輸入聊天室訊息..." rows="2"></textarea>
<button id="sendButton">送出</button>
<!-- 作答按鈕會由 JS 動態加入這裡，例如:
                <button class="answer-button" data-answer="A">A</button>
                <button class="answer-button" data-answer="B">B</button>
                 -->
</div>
</div>
</div> <!-- end .container -->
<!-- (可選) 貓咪裝飾圖片 -->
<!-- <img src="path/to/your/cat.png" alt="裝飾" class="cat-decoration"> -->
<!-- 連結學生介面的 JavaScript -->
<script src="student.js" type="module"></script>
<div class="qr-block"><img alt="Student share QR" class="qr-inline" src="qrcode_rollcall.png"/><div class="qr-caption">📡 老師沒反應？請同學幫忙掃這個！</div></div></body>
</html>
