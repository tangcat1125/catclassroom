<!-- StudentUi_Login.html 版本:1.1.0 修正時間:2025-05-01 12:05 -->
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>學生介面 (Student UI)</title>
  <link rel="stylesheet" href="Student-Interface.css" />
  <!-- Firebase Compat SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database-compat.js"></script>
  <script>
    // Firebase 預設初始化
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      databaseURL: "https://YOUR_PROJECT.firebaseio.com",
      projectId: "YOUR_PROJECT",
      storageBucket: "YOUR_PROJECT.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "APP_ID"
    };
    firebase.initializeApp(firebaseConfig);
    window.db = firebase.database();
    console.log('Firebase (compat) 初始化成功！');
  </script>
</head>
<body>
  <header>
    <h2>學生作答區</h2>
    <div class="student-info">班級：<span id="student-class"></span> | 姓名：<span id="student-name"></span></div>
  </header>

  <!-- 系統訊息 + 進度條 -->
  <section class="system-section">
    <div id="systemMessage" class="system-message">等待老師出題中…</div>
    <div class="progress">
      <div id="progressFill" class="progress-fill" style="width:0%"></div>
    </div>
  </section>

  <!-- 求救區 -->
  <section class="help-box" style="background:#ffe4e1; padding:16px; border-radius:8px; margin:16px 0;">
    <button id="help-button" class="help-toggle-btn">🚨 我要求救</button>
    <div id="help-form" style="display:none; margin-top:12px;">
      <textarea id="help-text" rows="3" placeholder="請輸入你遇到的問題…" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:4px;"></textarea>
      <button id="help-send-btn" class="help-send-btn" style="margin-top:8px; background:#d32f2f; color:#fff; padding:8px 16px; border:none; border-radius:4px;">發送求救訊息</button>
      <div id="help-status" style="display:none; margin-top:8px; color:#388e3c;">✅ 已傳送！老師正在查看中…</div>
    </div>
  </section>

  <!-- 課程聊天室 -->
  <section class="chat-container">
    <h3>課程聊天室</h3>
    <div id="systemMessageChat" class="chat-status">載入中…</div>
    <ul id="chatList" class="chat-list"></ul>
    <textarea id="chatInput" class="chat-input" placeholder="輸入聊天室訊息…"></textarea>
    <button class="send-btn">送出聊天室訊息</button>
  </section>

  <!-- 核心腳本 -->
  <script type="module" src="student-ui.js"></script>
</body>
</html>
